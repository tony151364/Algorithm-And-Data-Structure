- [课程地址](https://www.bilibili.com/video/BV1H84y1j7HQ)

## 1.类图概述
- **UML**：统一建模语言（Unified Modeling Language，UML）是用来设计软件的可视化建模语言。它的特点是简单、统一、图形化、能表达软件设计中的同台与静态信息。UML从目标系统的不同角度出发，定义了用例图、类图、对象图、状态图、活动图、时序图、协作图、构作图、构件图、部署图等9种图。

- 类图：类图(Class Diagram)是显示了模型的静态结构，特别是模型中存在的类、类的**内部结构**以及它们**与其他类的关系等**。类图是面向对象建模的主要组成部分，简化了人们对系统的理解，类图是系统分析和设计阶段的重要产物，是系统编码和测试的重要模型

## 2.类的表示
### 2.1 普通类
- 在UML类图中，类使用包含类名、属性(field)和方法(method)且带有分割线的矩形来表示。
- 访问权限：
    - ```+: 表示public```
    - ```-: 表示private```
    - ```#: 表示protected```

- 属性的完整表示方式：可见性 名称：类型[ =缺省值]
- 方法的完整表示方式：可见性 名称（参数列表）[ ：返回类型]

### 2.2 抽象类
- 1.抽象类类名称用*斜体*表示，抽象方法也用*斜体*表示
- 2.类图边框用虚线表示（建议）

### 2.3 接口
- 1.与抽象类相同，接口名称和抽象方法用*斜体*表示
- 2.接口取消属性栏（建议）

## 3.UML设计软件-ProcessOn
- 一个在线的软件，看起来还挺好用的。

## 4 类关系

### 4.1 关联关系(Association)
- 关联关系：<font color="red">是对象之间的一种引用关系</font>，用于表示一类对象与另一类对象之间的联系，如老师和学生，学生和课程等。关联关系是类与类之间<font color="red">最常用的一种关系，一般引用的对象，会作为另一个类的成员变量来使用</font>。关联关系分为一般关联，聚合关系和组合关系。一般关联又可分为单向关联，双向关联，自关联。

#### 4.1.1 单向关联
- <font color="red">一个带箭头的实线</font>，指向被拥有类

#### 4.1.2 双向关联
- <font color="red">一个不带箭头的直线</font>

#### 4.1.3 自关联
- <font color="red">一个带箭头且指向自身的线</font>

### 4.2 聚合关系(Aggregation)
- 聚合关系：是关联关系的一种，是强关联关系，是整体和部分之间的关系。
- <font color="red">用空心菱形的实线表示，菱形指向整体</font>

#### 4.2.1 一对多
- 聚合关系也是通过成员对象来实现的，其中成员对象是整体对象的一部分，但是- <font color="red">成员对象可以脱离整体对象而独立存在</font>。例如，在开发教务系统的时候，可以有两个单独的模块，大学信息模块和教师信息模块都可以独立存在
- ``` List<Teacher> teacherList; ``` 遇到List时基本就是聚合或组合，多为聚合

#### 4.2.2 一对一
- 在1:1关系中，只要是表示整体包含部分，能代表强关联关系，就可以用聚合。<font color="red">程序中整体的类往往在加载的时候实例化部分的类</font>
- 汽车与零件。汽车包含了零件，是一种整体与部分的关系。用关联关系也行，但聚合关系更贴切。

### 4.3 组合关系(Composition)
- 组合关系：表示类之间的<font color="red">整体与部分的关系</font>，但它是一种更强烈的聚合关系。在组合关系中，整体对象可控制部分对象的生命周期，一旦整体对象不存在，部分对象也将不存在，<font color="red">部分对象不能脱离整体对象而存在</font>。
- 例如，订单表不存在，订单项也不存在了。例如，在开发电商订单系统的时候，可以有订单信息模块单独存在，绝对不会存在订单项模块单独存在。（其实就是王磊哥做的DataTable与TableRowBase的关系）
- UML类图中，<font color="red">组合关系用带实心菱形的实线来表示，菱形指向整体</font>

### 4.4 依赖关系(Dependence)
- 依赖关系是一种使用关系，它是对象之间<font color="red">耦合度最弱的</font>一种关联方式，是临时性的关联。在代码中，某个类的方法通过<font color="red">局部变量、方法的参数或者对静态方法</font>的调用来访问另一个类（被依赖类）中的某些方法来完成一些职责。（只有用到的时候才存在，比如只有方法被调用的时候才创建）
- 在UML类图中，<font color="red">依赖关系使用带箭头的虚线来表示，箭头从使用类指向被依赖的类</font>。

### 4.5 继承关系(Inheritance)
- 继承（泛化）关系是对象之间<font color="red">耦合度最大</font>的一种关系，表示一般与特殊的关系，是父类与子类的关系，是一种继承关系。在代码实现时，使用面向对象的继承机制来实现泛化关系。
- 耦合度最大可以理解为：父类一旦变化，子类就会跟着变化
- 在UML类图中，泛化关系用<font color="red">带空心的三角箭头的实线</font>来表示，箭头从子类指向父类。

### 4.6 实现关系(Implementation)
- 实现关系是接口与实现类之间的关系。在这种关系中，类实现了接口，类中的操作实现了接口中所声明的所有的抽象操作。(可以理解为抽象类与实现类的关系)
- 在UML中使用带空心三角箭头的<font color="red">虚线</font>来表示，箭头从实现类指向接口。

### 4.7 总结
- 依赖、关联、聚合和组合，这4种关系所表现的强弱程度依次为：```Composite > Aggregation > Association > Dependency```
- 关联、聚合和组合是大家经常容易混淆的三种关系，这种关系最大的区别在于对象的生命周期：
    - 1.关联关系：<font color="red">每个对象都有自己的生命周期</font>，对象之间不存在从属关系
    - 2.聚合关系：<font color="red">整体和部分可以分离</font>，整体和部分都可以拥有各自的生命周期。
    - 3.组合关系：整体和部分是不可以分离的，<font color="red">整体的声明周期结束时，也意味着部分的生命周期结束</font>

## 5. 综合案例——组装电脑类图设计
- 实际项目中，一般先画类图，再编码

## 我的总结
- 简单明了，通俗易懂